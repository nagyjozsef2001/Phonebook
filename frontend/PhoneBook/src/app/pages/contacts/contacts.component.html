<section id="contact">
    <app-navbar></app-navbar>
    <br>
    <button class="create-button" (click)="createContact()">Create Contact!</button>
    <app-searchbar (searchTextChanged)="onSearchTextEntered($event)" (searchSelected)="onSearchTypeChanged($event)"></app-searchbar>
    <br>
    <div class="container" *ngFor="let contact of contactList"> <!-- looping through the contacts and generates a card for each-->
        <!-- if we dont type to the searchbox we see every contact otherwise it checks the radio button(how we search, by name or by phone number) and then checks if the entered text is matching with one of the contacts details-->
        <div class="contact-card" *ngIf="(searchText ==='' || (searchType === 'byName' && (contact.firstName + contact.lastName).toLowerCase().includes(searchText.toLocaleLowerCase())))  || (searchType === 'byPhoneNumber' && contact.phoneNumber.includes(searchText))">
            <h2 class="contact-name">{{contact.lastName+" "+contact.firstName}}</h2>
            <p class="contact-email">{{contact.email}}</p>
            <p class="contact-phone">{{contact.phoneNumber}}</p>
            <p class="contact-notes">{{contact.notes}}</p>
            <br>
            <p>Address: </p>
            <div class="ifexist" *ngIf="contact.address">
                <p class="address-item">{{contact.address.country}}</p>
                <p class="address-item">{{contact.address.postalCode}}</p>
                <p class="address-item">{{contact.address.shire}}</p>
                <p class="address-item">{{contact.address.city}}</p>
                <p class="address-item">{{contact.address.street}}</p>
                <p class="address-item">{{contact.address.number}}</p>
                <p class="address-item">{{contact.address.stairs}}</p>
                <p class="address-item">{{contact.address.floor}}</p>
                <p class="address-item">{{contact.address.apartment}}</p>
            </div>
            <br>
            <button class="modify-button" (click)="openModify(contact.id)">Edit!</button>
            <button class="delete-button" (click)="deleteAContact(contact.id)">Delete!</button>
        </div>
    </div>
</section>
